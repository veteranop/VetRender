CURRENT STATUS & ACTION PLAN
============================

ISSUE #1: TRANSPARENCY SLIDER
-----------------------------
Status: Code is CORRECT ‚úÖ
Problem: Need to verify it's actually working

The code saves current axis limits before redrawing:
  current_xlim = self.ax.get_xlim()
  current_ylim = self.ax.get_ylim()

Then passes them to plot_coverage.

ACTION NEEDED:
1. Launch VetRender
2. Calculate coverage
3. Zoom in/out to a specific level
4. Move transparency slider
5. Check if map stays same size

If map still shrinks, the issue might be elsewhere.

ISSUE #2: RADIAL ARTIFACTS
---------------------------
Status: FIX APPLIED ‚úÖ but OLD PLOTS still show artifacts

CRITICAL: The fix I just applied ONLY affects NEW calculations!

Your existing plots were calculated with the OLD code:
- 360 azimuths (1¬∞ steps)
- Linear interpolation
- No smoothing

ACTION NEEDED:
1. Launch VetRender
2. DELETE old plots or ignore them
3. RECALCULATE coverage with terrain enabled
4. Set quality to Medium or High
5. Check NEW plot for artifacts

The NEW calculation will use:
- 540 azimuths for Medium (0.67¬∞ steps)
- Gaussian smoothing (sigma=1.5)
- Cubic spline interpolation

EXPECTED RESULT:
‚úÖ Smooth coverage (no radial beams)
‚úÖ Proper terrain effects in all directions

WHY OLD PLOTS STILL HAVE ARTIFACTS:
-----------------------------------
Saved plots contain the PRE-CALCULATED data grids:
- az_grid (azimuth)
- dist_grid (distance)
- rx_power_grid (power)
- terrain_loss_grid (terrain)

These were calculated with OLD interpolation method.
Loading an old plot just displays the old data.

TO SEE THE FIX:
---------------
You MUST recalculate coverage from scratch!

The fix is in:
  controllers/propagation_controller.py
  - Line 206: Increased azimuth counts
  - Line 275: Added Gaussian smoothing
  - Line 320: Added cubic interpolation

TESTING CHECKLIST:
------------------
‚òê Launch: python vetrender.py
‚òê Enable terrain analysis (Plot Settings menu)
‚òê Set quality to Medium or High
‚òê Calculate coverage
‚òê Look for smooth circular patterns
‚òê Check bearing ~136¬∞ on KDPI (was artifact location)
‚òê Test transparency slider (zoom then adjust)
‚òê Verify map doesn't shrink when changing transparency

IF STILL HAVE ISSUES:
---------------------
1. Check console output for:
   - "Using cubic spline interpolation"
   - "Smoothing applied (sigma=1.5 on azimuth axis)"
   
2. If you don't see these messages:
   - scipy might not be installed
   - Run: pip install scipy --break-system-packages

3. If transparency slider still shrinks map:
   - Send me error output from console
   - Might be an issue with axis limit restoration

REMINDER:
---------
üî• YOU MUST RECALCULATE TO SEE THE FIX! üî•

Old plots = old artifacts
New calculations = smooth results
